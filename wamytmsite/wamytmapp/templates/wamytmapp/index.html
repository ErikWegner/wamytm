{% extends 'wamytmapp/base.html' %}
{% load get_value_from_dict %}

{% block content %}
<h2>Diese Woche</h2>

<a class="btn btn-dark" href="{% url 'wamytmapp:index' %}?weekdelta={{ weekdelta | add:"-1"}}" role="button">Eine Woche zur√ºck</a>
<a class="btn btn-light" href="{% url 'wamytmapp:index' %}" role="button">aktuelle Woche</a>
<a class="btn btn-dark" href="{% url 'wamytmapp:index' %}?weekdelta={{ weekdelta | add:"1"}}" role="button">Eine Woche vor</a>


<table class="table table-sm presence mt-3">
    <thead>
        <tr>
            <th scope="col">Person</th>
            {% for day in days %}
            <th scope="col"{% if day.allday %} class="allday"{% endif %}>{% if day.allday %}{{ day.allday.description }}<br>{% endif %}{{ day.day }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for item in this_week %}
        <tr>
            <th scope="row">{{ item.user.last_name }}, {{ item.user.first_name }}</th>
            {% for day in item.days %}
            {% if day == 0%}
            <td class="empty"></td>
            {% else %}
            <td class="kind-{{ day }}">{{ trc|get_value_from_dict:day }}</td>
            {% endif %}
            {% endfor %}
        </tr>        
        {% endfor %}
    </tbody>
</table>
{% endblock %}